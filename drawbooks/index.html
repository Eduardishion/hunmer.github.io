<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>List of Drawing GuideBook</title>
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/jquery.restable.min.css">
<body>
        <div class="container">
            <span class="title">List of Drawing GuideBook(656)<br><span style="    font-size: 10px;">Tue, 28 Jul 2020 10:20:22 GMT</span></span>
    <table id="table3">
        <thead>
        <tr>
            <th>ID</th>
            <th>Cover</th>
            <th>Title</th>
            <th>Lang</th>
            <th>Product</th>
            <th>Download1</th>
            <th>Download2</th>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>
                 <select id='lang_select'>
                    <option>ALL</option>
                    <option>CHINESE</option>
                    <option>ENGLISH</option>
                    <option>JAPANESE</option>
                </select>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </thead>
        <tbody>
        
      <!--   <tr>
            <td><img src="img/3.png"></td>
            <td>Asdrubale</td>
            <td><a href="#">asdrubale@example.it</a></td>
            <td>
                <p>Nulla molestie vulputate lectus, eu aliquam erat cursus ac. Etiam finibus pellentesque turpis vitae
                    lacinia.</p>
                <ul>
                    <li>Element 1</li>
                    <li>Element 2</li>
                    <li>Element 3</li>
                </ul>
            </td>
        </tr> -->
        </tbody>
    </table>
        </div>
	<script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/jquery.restable.min.js"></script>
    <script type="text/javascript" src="js/drawbooks.js"></script>
    <script type="text/javascript" src="js/lazyload.min.js"></script>
    <script type="text/javascript">
    
    </script>

	<script>
        var g_s_search = '';
        var g_search = [];
        $(function(){
            parseData();

            $(document).on('click', 'img', function(){
                var d = $(this).parent().parent().find('a.read');
                if(d.length > 0) d[0].click();
            });
        })

    function parseData(){
        $('tr:gt(1)').remove();

        var h = ``;
        var id = 0;
        lang = $('#lang_select').val();
        for(var d of g_datas){
            if(lang != 'ALL' && d.lang != lang) continue;
            id++;
            h = h + `<tr>
            <td>`+id+`</td>
            <td><img data-src="`+d.img+`" class='lazyload'></td>
            <td><a target="_blank" href="https://www.google.com/search?q=`+d.title+`">`+d.title+`</a></td>
            <td>`+d.lang+`</td>
            <td>`+(d.prev == '' ? '' : `<a target="_blank" href="`+d.prev+`">go</a>`)+`</td><td>`;

             if(d.online != undefined){
                  h = h + `Size: <span>`+formatFileSize(d.online.size)+`</span><hr></br><a target="_blank" class='read' href="https://neysummer2000-location.glitch.me/?id=`+d.online.id+`&title=`+ encodeURI(d.title)+`">Read</a></br></br><a target="_blank" href="http://pan-yz.chaoxing.com/download/downloadfile?fleid=`+d.online.id+`&puid=142588570">Download</a>`;
            }
             h = h + '</td><td><ol>';
            for(var i=0;i<d.link.length;i++){
                if(d.link[i].indexOf('提取码') === -1){
                 h = h + '<li><a target="_blank" href="'+d.link[i]+'">download</a></li>';
                }else{
                 h = h + '<li>'+d.link[i]+'</li>';
                }
            }
           
            h = h + '</ol></td></tr>';
        }
        $('tbody').html(h);
        $(".lazyload").lazyload({effect: "fadeIn"});
        $('#table3').ReStable({keepHtml: true, rowHeaders: false});
    }

    function formatFileSize(fileSize) {
    if (fileSize < 1024) {
        return fileSize + 'B';
    } else if (fileSize < (1024*1024)) {
        var temp = fileSize / 1024;
        temp = temp.toFixed(2);
        return temp + 'KB';
    } else if (fileSize < (1024*1024*1024)) {
        var temp = fileSize / (1024*1024);
        temp = temp.toFixed(2);
        return temp + 'MB';
    } else {
        var temp = fileSize / (1024*1024*1024);
        temp = temp.toFixed(2);
        return temp + 'GB';
    }
}


    </script>
    <script type="text/javascript">

        $(function() {
            $(document).on('change', '#lang_select', function(){
                parseData();
            })
        });

       /* function changeKeyword(){
            value = $('input').val().trim();
            g_s_search = value;
            g_search = [];
            g_i_search = 0;
            if(value !== ''){
                for(var i=0;i<g_datas.length;i++){
                    if(g_datas[i].title.toLocaleLowerCase().indexOf(value.toLocaleLowerCase()) !== -1){
                        g_search.push(i);
                    }
                }
                $('.result-container').html('<span>' + (g_search.length > 0 ? '1/' +g_search.length : 'Not Found!')+'</span>').show();
                if(g_search.length > 0){
                    toItem(g_search[0]);
                }
            }else{
                $('.result-container').html('<span>0</span>').show();
            }
        }

        // for(var i=0;i<g_search.length;i++){
        //     console.log(g_datas[g_search[i]].title);
        // }

        function searchToggle(obj, evt){
            value = $('input').val().trim();

            var container = $(obj).closest('.search-wrapper');

            if(!container.hasClass('active')){
                  container.addClass('active');
            }
            else if(container.hasClass('active') && $(obj).closest('.input-holder').length == 0){
                $('.search_active').removeClass('search_active');
                  container.removeClass('active');
                  // clear input
                  container.find('.search-input').val('');
                  // clear and hide result container when we press close
                  container.find('.result-container').fadeOut(100, function(){$(this).empty();});
            }
            if(value==''){
                evt.preventDefault();
            }

        }

        function submitFn(obj, evt){
            evt.preventDefault();
            if(g_search.length === 0){
               // $('.close').click();
                 return;
            }
            value = $(obj).find('.search-input').val().trim();
            if(value != g_s_search){
                changeKeyword();
                return;
            }
            g_i_search++;
            if(g_i_search > g_search.length - 1){
                g_i_search = 0;
            }
            $(obj).find('.result-container').html('<span>' + (g_i_search+1) + '/' +g_search.length +'</span>').show();

            $(obj).find('.result-container').fadeIn(100);
            toItem(g_search[g_i_search]);


        }

        function toItem(index){
            $('.search_active').removeClass('search_active');
            $(document).scrollTop($('#tabletolist1 ul:eq('+index+')').addClass('search_active').offset().top);
        }*/
    </script>
</body>
</html>